<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>帮助 - PDF Inspector Pro</title>
    <meta name="description" content="PDF Inspector Pro 使用帮助和常见问题解答">
    <link rel="stylesheet" href="src/css/style.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <div class="app-container">
        <header class="app-header">
            <div class="header-content">
                <div class="logo">
                    <i class="fas fa-file-pdf"></i>
                    <h1>PDF Inspector Pro</h1>
                </div>
                <div class="header-actions">
                    <a href="/" class="btn btn-primary">
                        <i class="fas fa-home"></i>
                        <span data-i18n="common.back">返回首页</span>
                    </a>
                </div>
            </div>
        </header>

        <main class="main-content">
            <div class="help-container">
                <h2><i class="fas fa-question-circle"></i> <span data-i18n="help.title">使用帮助</span></h2>
                
                <section class="help-section">
                    <h3><i class="fas fa-upload"></i> <span data-i18n="help.uploadTitle">如何上传文件</span></h3>
                    <p data-i18n="help.uploadDesc">拖拽PDF文件到上传区域，或点击选择文件按钮上传。支持最大50MB的PDF文件。</p>
                </section>

                <section class="help-section">
                    <h3><i class="fas fa-chart-bar"></i> <span data-i18n="help.analysisTitle">查看分析结果</span></h3>
                    <p data-i18n="help.analysisDesc">上传后系统会自动分析PDF结构，显示文件信息、安全状态和验证结果。</p>
                </section>

                <section class="help-section">
                    <h3><i class="fas fa-download"></i> <span data-i18n="help.exportTitle">导出结果</span></h3>
                    <p data-i18n="help.exportDesc">点击导出按钮可以下载分析报告，包含详细的PDF结构信息。</p>
                </section>

                <section class="help-section">
                    <h3><i class="fas fa-exclamation-triangle"></i> <span data-i18n="help.faqTitle">常见问题</span></h3>
                    <ul id="faq-list">
                        <!-- FAQ items will be populated by JavaScript -->
                    </ul>
                </section>

                <section class="help-section">
                    <h3><i class="fas fa-lightbulb"></i> <span data-i18n="help.tipsTitle">使用技巧</span></h3>
                    <ul id="tips-list">
                        <!-- Tips items will be populated by JavaScript -->
                    </ul>
                </section>
            </div>
        </main>

        <!-- 页脚 -->
        <footer class="app-footer" role="contentinfo">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>PDF Inspector Pro</h3>
                    <p data-i18n="footer.description">专业的PDF格式校验工具，基于PDF 1.7标准验证PDF文件结构</p>
                </div>
                <div class="footer-section">
                    <h4 data-i18n="footer.features">功能特性</h4>
                    <ul>
                        <li data-i18n="footer.pdfStructureAnalysis">PDF结构解析</li>
                        <li data-i18n="footer.formatValidation">格式标准验证</li>
                        <li data-i18n="footer.issueDetection">问题检测</li>
                        <li data-i18n="footer.securityAssessment">安全风险评估</li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4 data-i18n="footer.support">技术支持</h4>
                    <ul>
                        <li><a href="/src/pages/help.html" aria-label="帮助文档" data-i18n="footer.helpDocs">帮助文档</a></li>
                        <li><a href="/src/pages/about.html" aria-label="关于我们" data-i18n="footer.aboutUs">关于我们</a></li>
                        <li><a href="/src/pages/privacy.html" aria-label="隐私政策" data-i18n="footer.privacyPolicy">隐私政策</a></li>
                        <li><a href="/src/pages/terms.html" aria-label="使用条款" data-i18n="footer.termsOfService">使用条款</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4 data-i18n="footer.contact">联系我们</h4>
                    <ul>
                        <li><a href="mailto:yhj2433488839@gmail.com" aria-label="邮件支持" data-i18n="footer.emailSupport">邮件支持</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p data-i18n="footer.copyright">&copy; 2024 PDF Inspector Pro. 保留所有权利。</p>
            </div>
        </footer>
    </div>

    <!-- 多语言支持脚本 -->
    <script type="module">
        // 动态导入多语言支持
        import languageManager from './src/js/language-manager.js';
        
        // 等待DOM加载完成后初始化
        document.addEventListener('DOMContentLoaded', async () => {
            try {
                // 等待语言管理器初始化
                await languageManager.init();
                
                // 初始化语言管理器
                window.languageManager = languageManager;
                
                // 更新页面内容
                updatePageContent();
                
                // 设置语言切换事件
                setupLanguageSwitcher();
                
                console.log('多语言支持初始化完成');
            } catch (error) {
                console.error('多语言支持初始化失败:', error);
            }
        });

        // 更新页面内容
        function updatePageContent() {
            // 更新所有带有data-i18n属性的元素
            document.querySelectorAll('[data-i18n]').forEach(element => {
                const key = element.getAttribute('data-i18n');
                const translation = window.languageManager.get(key);
                if (translation) {
                    element.textContent = translation;
                }
            });

            // 更新FAQ列表
            updateFAQList();
            
            // 更新Tips列表
            updateTipsList();
        }

        // 更新FAQ列表
        function updateFAQList() {
            const faqList = document.getElementById('faq-list');
            if (faqList) {
                const faqItems = window.languageManager.get('help.faqItems') || [];
                faqList.innerHTML = faqItems.map(item => `<li>${item}</li>`).join('');
            }
        }

        // 更新Tips列表
        function updateTipsList() {
            const tipsList = document.getElementById('tips-list');
            if (tipsList) {
                const tipsItems = window.languageManager.get('help.tipsItems') || [];
                tipsList.innerHTML = tipsItems.map(item => `<li>${item}</li>`).join('');
            }
        }

        // 设置语言切换器
        function setupLanguageSwitcher() {
            const languageBtn = document.getElementById('languageBtn');
            const languageDropdown = document.getElementById('languageDropdown');
            const currentLanguageSpan = document.getElementById('currentLanguage');

            if (languageBtn && languageDropdown) {
                // 切换下拉菜单
                languageBtn.addEventListener('click', () => {
                    languageDropdown.classList.toggle('show');
                });

                // 点击外部关闭下拉菜单
                document.addEventListener('click', (e) => {
                    if (!languageBtn.contains(e.target) && !languageDropdown.contains(e.target)) {
                        languageDropdown.classList.remove('show');
                    }
                });

                // 语言选项点击事件
                languageDropdown.querySelectorAll('.language-option').forEach(option => {
                    option.addEventListener('click', async () => {
                        const lang = option.getAttribute('data-lang');
                        const success = await window.languageManager.switchLanguage(lang);
                        
                        if (success) {
                            // 更新当前语言显示
                            const languageName = option.querySelector('.language-name').textContent;
                            currentLanguageSpan.textContent = languageName;
                            
                            // 更新页面内容
                            updatePageContent();
                            
                            // 关闭下拉菜单
                            languageDropdown.classList.remove('show');
                        }
                    });
                });
            }
        }
    </script>
</body>
</html> 